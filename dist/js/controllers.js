!function(o){angular.module("custom.controllers",[]),app.controller("HomeController",["$scope","$http","$rootScope","$state","$translate","Notification","$ionicModal",function(o,e,t,n,r,c,i){t.http=e,app.registerEventsCronapi(o,r,i),o.Notification=c;for(var l in app.userEvents)o[l]=app.userEvents[l].bind(o);o.message={}}]),app.controller("chatController",["$scope","$state","$ionicPopup","$ionicScrollDelegate","$timeout","$interval","$ionicModal","$translate","$rootScope","$http",function(o,e,t,n,r,c,i,l,a,s){app.registerEventsCronapi(o,l),a.http=s,o.Notification=Notification;for(var p in app.userEvents)o[p]=app.userEvents[p].bind(o);var u,f,S,g=(JSON.parse(sessionStorage._u).user.username,n.$getByHandle("userMessageScroll"));o.enter=function(){r(function(){u=document.body.querySelector(".homeView .bar-footer"),f=document.body.querySelector(".homeView .scroll-content"),S=angular.element(u.querySelector("textarea"))},0)},o.isEnter=function(o){13==o.keyCode&&r(function(){o.stopPropagation(),$("#sendButton").trigger("click")},0)},o.refreshScroll=function(e,t){r(function(){e=e||o.scrollDown,g.resize(),e&&g.scrollBottom(!0),o.checkScroll()},t||1e3)},o.scrollDown=!0,o.checkScroll=function(){return r(function(){var e=g.getScrollPosition().top,t=g.getScrollView().__maxScrollTop;o.scrollDown=e>=t,o.$apply()},0),!0}}])}(app);